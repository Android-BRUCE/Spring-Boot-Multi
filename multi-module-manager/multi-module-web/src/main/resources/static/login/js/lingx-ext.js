Ext.define("Option",{extend:"Ext.data.Model",fields:[{name:"text",type:"string"},{name:"value",type:"string"}]});Ext.define("Lingx.form.Password",{extend:"Ext.form.field.Text",xtype:"password",inputType:"password"});
Ext.define("Ext.ux.form.field.DateTime",{extend:"Ext.form.field.Date",alias:"widget.datetimefield",alternateClassName:["Ext.form.DateTimeField","Ext.form.DateTime"],format:"Y-m-d H:i:s",showTime:!0,initComponent:function(){this.callParent()},initValue:function(){this.callParent()},createPicker:function(){var a=this,b=Ext.String.format;return new Ext.ux.picker.DateTime({pickerField:a,ownerCt:a.ownerCt,renderTo:document.body,floating:!0,hidden:!0,focusOnShow:!0,minDate:a.minValue,maxDate:a.maxValue,
disabledDatesRE:a.disabledDatesRE,disabledDatesText:a.disabledDatesText,disabledDays:a.disabledDays,disabledDaysText:a.disabledDaysText,format:a.format,showToday:a.showToday,showTime:a.showTime,startDay:a.startDay,minText:b(a.minText,a.formatDate(a.minValue)),maxText:b(a.maxText,a.formatDate(a.maxValue)),listeners:{scope:a,select:a.onSelect},keyNavConfig:{esc:function(){a.collapse()}}})},onExpand:function(){var a=this.getValue(),a=Ext.isDate(a)?a:Ext.Date.clearTime(new Date);this.picker.setValue(a)}});
Ext.define("Ext.ux.picker.DateTime",{extend:"Ext.picker.Date",requires:"Ext.XTemplate Ext.button.Button Ext.button.Split Ext.util.ClickRepeater Ext.util.KeyNav Ext.EventObject Ext.fx.Manager Ext.picker.Month".split(" "),alias:"widget.datetimepicker",alternateClassName:"Ext.DateTimePicker",renderTpl:['<div id="{id}-innerEl" role="grid">','<div role="presentation" class="{baseCls}-header">','<div class="{baseCls}-prev"><a id="{id}-prevEl" href="#" role="button" title="{prevText}"></a></div>','<div class="{baseCls}-month" id="{id}-middleBtnEl">{%this.renderMonthBtn(values, out)%}</div>',
'<div class="{baseCls}-next"><a id="{id}-nextEl" href="#" role="button" title="{nextText}"></a></div>',"</div>",'<table id="{id}-eventEl" class="{baseCls}-inner" cellspacing="0" role="presentation">','<thead role="presentation"><tr role="presentation">','<tpl for="dayNames">','<th role="columnheader" title="{.}"><span>{.:this.firstInitial}</span></th>',"</tpl>","</tr></thead>",'<tbody role="presentation"><tr role="presentation">','<tpl for="days">',"{#:this.isEndOfWeek}",'<td role="gridcell" id="{[Ext.id()]}">',
'<a role="presentation" href="#" hidefocus="on" class="{parent.baseCls}-date" tabIndex="1">','<em role="presentation"><span role="presentation"></span></em>',"</a>","</td>","</tpl>","</tr></tbody>","</table>",'<tpl if="showFooter">','<div id="{id}-footerEl" role="presentation" class="{baseCls}-footer">{%this.renderFooterContainer(values, out)%}</div>',"</tpl>","</div>",{firstInitial:function(a){return Ext.ux.picker.DateTime.prototype.getDayInitial(a)},isEndOfWeek:function(a){a--;return 0===a%7&&0!==
a?'</tr><tr role="row">':""},renderFooterContainer:function(a,b){Ext.DomHelper.generateMarkup(a.$comp.footerContainer.getRenderTree(),b)},renderMonthBtn:function(a,b){Ext.DomHelper.generateMarkup(a.$comp.monthBtn.getRenderTree(),b)}}],todayText:"\u4eca\u65e5",confirmText:"\u786e\u5b9a",ariaTitle:"Date Picker: {0}",ariaTitleDateFormat:"F d H:i:s, Y",showToday:!0,showTime:!0,longDayFormat:"F d H:i:s, Y",initComponent:function(){var a=this.value;this.callParent();this.showTime&&(this.value=a||this.value,
this.listeners=Ext.apply(this.listeners||{},{dblclick:{element:"eventEl",fn:this.handleDateDblClick,scope:this,delegate:"a."+this.baseCls+"-date"}}))},beforeRender:function(){var a=Ext.Date.format(new Date,this.format);this.callParent();this.todayBtn&&(delete this.todayBtn.ownerCt,delete this.todayBtn.ownerLayout,Ext.destroy(this.todayBtn),delete this.todayBtn,this.todayBtn=new Ext.button.Button({text:Ext.String.format(this.todayText,a),tooltip:Ext.String.format(this.todayTip,a),tooltipType:"title",
height:21,handler:this.selectToday,scope:this}));var b=[],c=3;this.showTime&&(this.hour=Ext.create("Ext.form.field.Number",{minValue:0,maxValue:23,width:39,enableKeyEvents:!0,scope:this,hideLabel:!0,style:{marginTop:"5px"},listeners:{scope:this,change:function(a,b){this.value.setHours(a.getValue())},blur:function(a,b){this.update(this.value,!0)},keyup:function(a,b){23<a.getValue()&&(b.stopEvent(),a.setValue(23))}}}),this.minute=Ext.create("Ext.form.field.Number",{minValue:0,maxValue:59,width:39,enableKeyEvents:!0,
scope:this,hideLabel:!0,style:{marginLeft:"2px",marginTop:"5px"},listeners:{scope:this,change:function(a,b){this.value.setMinutes(a.getValue())},blur:function(a,b){this.update(this.value,!0)},keyup:function(a,b){59<a.getValue()&&(b.stopEvent(),a.setValue(59))}}}),this.second=Ext.create("Ext.form.field.Number",{minValue:0,maxValue:59,width:39,enableKeyEvents:!0,scope:this,hideLabel:!0,style:{marginLeft:"2px",marginTop:"5px"},listeners:{scope:this,change:function(a,b){this.value.setSeconds(a.getValue())},
blur:function(a,b){this.update(this.value,!0)},keyup:function(a,b){59<a.getValue()&&(b.stopEvent(),a.setValue(59))}}}),b.push(this.hour),b.push(this.minute),b.push(this.second),this.confirmBtn=new Ext.button.Button({text:Ext.String.format(this.confirmText,a),height:21,handler:this.confirmClick,scope:this}));this.showTime&&this.showToday?b.push(Ext.create("Ext.container.Container",{colspan:c,layout:{type:"table",tableAttrs:{align:"center"},tdAttrs:{align:"center"},columns:2},defaults:{},items:[this.todayBtn,
this.confirmBtn],scope:this})):this.showToday?(c=1,b.push(this.todayBtn)):this.showTime&&(c=4,b.push(this.confirmBtn));0<b.length&&(this.footerContainer=Ext.create("Ext.container.Container",{layout:{type:"table",tableAttrs:{align:"center"},tdAttrs:{align:"center"},columns:c},items:b,scope:this}));Ext.apply(this.renderData,{showFooter:this.isShowFooter()})},isShowFooter:function(){return this.showToday||this.showTime},finishRenderChildren:function(){this.callParent();this.showTime&&(this.hour.finishRender(),
this.minute.finishRender(),this.second.finishRender());this.isShowFooter()&&this.footerContainer.finishRender()},setValue:function(a){this.value=a;this.showTime&&(this.hour.setValue(this.value.getHours()),this.minute.setValue(this.value.getMinutes()),this.second.setValue(this.value.getSeconds()));return this.update(this.value)},selectDate:function(a){this.showTime&&(a.setHours(this.hour.getValue()),a.setMinutes(this.minute.getValue()),a.setSeconds(this.second.getValue()));this.value=a;return this.update(this.value)},
setDisabledStatus:function(a){this.callParent();this.showTime&&this.confirmBtn.setDisabled(a);this.isShowFooter()&&this.footerContainer.setDisabled(a)},onOkClick:function(a,b){a=b[0];b=b[1];var c=new Date(b,a,this.getActive().getDate());c.getMonth()!==a&&(c=Ext.Date.getLastDateOfMonth(new Date(b,a,1)));this.update(c);this.hideMonthPicker()},handleDateClick:function(a,b){var c=this.handler;a.stopEvent();this.disabled||!b.dateValue||Ext.fly(b.parentNode).hasCls(this.disabledCellCls)||(this.doCancelFocus=
!1===this.focusOnSelect,this.selectDate(new Date(b.dateValue)),delete this.doCancelFocus,this.showTime||(this.fireEvent("select",this,this.value),c&&c.call(this.scope||this,this,this.value),this.onSelect()))},handleDateDblClick:function(a,b){var c=this.handler;a.stopEvent();this.disabled||!b.dateValue||Ext.fly(b.parentNode).hasCls(this.disabledCellCls)||(this.doCancelFocus=!1===this.focusOnSelect,this.selectDate(new Date(b.dateValue)),delete this.doCancelFocus,this.fireEvent("select",this,this.value),
c&&c.call(this.scope||this,this,this.value),this.onSelect())},selectToday:function(){var a=this.todayBtn,b=this.handler;a&&!a.disabled&&(this.value=new Date,this.update(this.value),this.fireEvent("select",this,this.value),b&&b.call(this.scope||this,this,this.value),this.onSelect());return this},confirmClick:function(){var a=this.confirmBtn,b=this.handler;a&&!a.disabled&&(this.fireEvent("select",this,this.value),b&&b.call(this.scope||this,this,this.value),this.onSelect());return this},selectedUpdate:function(a){a=
Ext.Date.clearTime(a,!0).getTime();var b=this.cells,c=this.selectedCls,e=b.elements,f=e.length,d;b.removeCls(c);for(b=0;b<f;b++)if(d=Ext.fly(e[b]),d.dom.firstChild.dateValue==a){this.fireEvent("highlightitem",this,d);d.addCls(c);this.isVisible()&&!this.doCancelFocus&&Ext.fly(d.dom.firstChild).focus(50);break}},beforeDestroy:function(){this.rendered&&Ext.destroy(this.hour,this.minute,this.second,this.confirmBtn,this.footerContainer);this.callParent()}});
Ext.define("Lingx.form.DialogOption",{extend:"Ext.form.field.Trigger",xtype:"dialogoption",buttonText:"\u9009\u62e9...",buttonMargin:3,textEl:"",valueEl:"",readOnly:!0,config:{etype:"",params:{},method:"grid"},initComponent:function(){this.callParent()},getTriggerMarkup:function(){return'<td id="'+this.id+'-browseButtonWrap"><input id="'+this.id+'-Hidden-Value" name="" type="hidden" value=""> </td>'},applyRenderSelectors:function(){this.callParent();this.valueEl=this.el.getById(this.id+"-Hidden-Value");
this.textEl=this.inputEl},onRender:function(){var a=this.id,b;this.callParent(arguments);b=this.inputEl;this.valueEl.dom.name=b.dom.name;b.on("click",this.onTriggerClick,this);b.dom.name="";this.button=new Ext.button.Button(Ext.apply({renderTo:a+"-browseButtonWrap",ownerCt:this,ownerLayout:this.componentLayout,id:a+"-button",ui:this.ui,disabled:this.disabled,text:this.buttonText,style:this.buttonOnly?"":this.getButtonMarginProp()+this.buttonMargin+"px",inputName:this.getName(),listeners:{scope:this,
click:this.onTriggerClick}},this.buttonConfig));this.buttonOnly&&this.inputCell.setDisplayed(!1);Ext.isIE&&this.button.getEl().repaint();this.value&&(void 0==this.value.value?(this.valueEl.dom.value="",this.inputEl.dom.value=""):(this.valueEl.dom.value=this.value.value,this.inputEl.dom.value=this.value.text))},getButtonMarginProp:function(){return"margin-left:"},onTriggerClick:function(){openWindow("\u9009\u62e9\u6846",Lingx.urlAddParams("e?e="+this.etype+"&m="+this.method+"&cmpId="+this.id,this.params))},
setText:function(a){this.textEl.dom.value=a},getText:function(){return this.textEl.dom.value},setValue:function(a){this.callParent(arguments);this.valueEl&&this.valueEl.dom&&(this.valueEl.dom.value=a)},getValue:function(){return this.valueEl.dom.value},setParams:function(a){this.params=a},getParams:function(){return this.params},setTV:function(a){this.textEl.dom.value=a.text;this.valueEl.dom.value=a.value},getSubmitData:function(){var a=null;this.disabled||!this.submitValue||this.isFileUpload()||
(a={},a[this.getName()]=""+this.getValue());return a}});
Ext.define("Lingx.form.DialogOption2",{extend:"Ext.form.field.Trigger",xtype:"dialogoption2",buttonText:"\u9009\u62e9...",buttonMargin:3,textEl:"",valueEl:"",readOnly:!0,config:{etype:"",params:{},method:"combogrid2"},initComponent:function(){this.callParent()},getTriggerMarkup:function(){return'<td id="'+this.id+'-browseButtonWrap"><input id="'+this.id+'-Hidden-Value" name="" type="hidden" value=""> </td>'},applyRenderSelectors:function(){this.callParent();this.valueEl=this.el.getById(this.id+"-Hidden-Value");
this.textEl=this.inputEl},onRender:function(){var a=this.id,b;this.callParent(arguments);b=this.inputEl;this.valueEl.dom.name=b.dom.name;b.on("click",this.onTriggerClick,this);b.dom.name="";this.button=new Ext.button.Button(Ext.apply({renderTo:a+"-browseButtonWrap",ownerCt:this,ownerLayout:this.componentLayout,id:a+"-button",ui:this.ui,disabled:this.disabled,text:this.buttonText,style:this.buttonOnly?"":this.getButtonMarginProp()+this.buttonMargin+"px",inputName:this.getName(),listeners:{scope:this,
click:this.onTriggerClick}},this.buttonConfig));this.buttonOnly&&this.inputCell.setDisplayed(!1);Ext.isIE&&this.button.getEl().repaint();this.value&&(void 0==this.value.value?(this.valueEl.dom.value="",this.inputEl.dom.value=""):(this.valueEl.dom.value=this.value.value,this.inputEl.dom.value=this.value.text))},getButtonMarginProp:function(){return"margin-left:"},onTriggerClick:function(){openWindow("\u9009\u62e9\u6846",Lingx.urlAddParams("e?e="+this.etype+"&m="+this.method+"&cmpId="+this.id+"&value="+
this.valueEl.dom.value+"&text="+encodeURI(encodeURI(this.inputEl.dom.value)),this.params))},setText:function(a){this.textEl.dom.value=a},getText:function(){return this.textEl.dom.value},setValue:function(a){this.callParent(arguments);this.valueEl&&this.valueEl.dom&&(this.valueEl.dom.value=a)},getValue:function(){return this.valueEl.dom.value},setParams:function(a){this.params=a},getParams:function(){return this.params},setTV:function(a){this.textEl.dom.value=a.text;this.valueEl.dom.value=a.value},
getSubmitData:function(){var a=null;this.disabled||!this.submitValue||this.isFileUpload()||(a={},a[this.getName()]=""+this.getValue());return a}});
Ext.define("Lingx.form.DialogTree",{extend:"Ext.form.field.Trigger",xtype:"dialogtree",buttonText:"\u9009\u62e9...",buttonMargin:3,textEl:"",valueEl:"",readOnly:!0,config:{etype:"",params:{},method:"tree"},initComponent:function(){this.callParent()},getTriggerMarkup:function(){return'<td id="'+this.id+'-browseButtonWrap"><input id="'+this.id+'-Hidden-Value" name="" type="hidden" value=""> </td>'},applyRenderSelectors:function(){this.callParent();this.valueEl=this.el.getById(this.id+"-Hidden-Value");
this.textEl=this.inputEl},onRender:function(){var a=this.id,b;this.callParent(arguments);b=this.inputEl;this.valueEl.dom.name=b.dom.name;b.on("click",this.onTriggerClick,this);b.dom.name="";this.button=new Ext.button.Button(Ext.apply({renderTo:a+"-browseButtonWrap",ownerCt:this,ownerLayout:this.componentLayout,id:a+"-button",ui:this.ui,disabled:this.disabled,text:this.buttonText,style:this.buttonOnly?"":this.getButtonMarginProp()+this.buttonMargin+"px",inputName:this.getName(),listeners:{scope:this,
click:this.onTriggerClick}},this.buttonConfig));this.buttonOnly&&this.inputCell.setDisplayed(!1);Ext.isIE&&this.button.getEl().repaint();this.value&&(void 0==this.value.value?(this.valueEl.dom.value="",this.inputEl.dom.value=""):(this.valueEl.dom.value=this.value.value,this.inputEl.dom.value=this.value.text))},getButtonMarginProp:function(){return"margin-left:"},onTriggerClick:function(){openWindow("\u9009\u62e9\u6846",Lingx.urlAddParams("e?e="+this.etype+"&m="+this.method+"&cmpId="+this.id,this.params))},
setText:function(a){this.textEl.dom.value=a},getText:function(){return this.textEl.dom.value},setValue:function(a){this.callParent(arguments);this.valueEl&&this.valueEl.dom&&(this.valueEl.dom.value=a)},getValue:function(){return this.valueEl.dom.value},setTV:function(a){this.textEl.dom.value=a.text;this.valueEl.dom.value=a.value},getSubmitData:function(){var a=null;this.disabled||!this.submitValue||this.isFileUpload()||(a={},a[this.getName()]=""+this.getValue());return a}});
Ext.define("Lingx.form.DialogTree2                                                                                                 ",{extend:"Ext.form.field.Trigger",xtype:"dialogtree2",buttonText:"\u9009\u62e9...",buttonMargin:3,textEl:"",valueEl:"",readOnly:!0,config:{etype:"",params:{},method:"combotree2"},initComponent:function(){this.callParent()},getTriggerMarkup:function(){return'<td id="'+this.id+'-browseButtonWrap"><input id="'+this.id+'-Hidden-Value" name="" type="hidden" value=""> </td>'},
applyRenderSelectors:function(){this.callParent();this.valueEl=this.el.getById(this.id+"-Hidden-Value");this.textEl=this.inputEl},onRender:function(){var a=this.id,b;this.callParent(arguments);b=this.inputEl;this.valueEl.dom.name=b.dom.name;b.on("click",this.onTriggerClick,this);b.dom.name="";this.button=new Ext.button.Button(Ext.apply({renderTo:a+"-browseButtonWrap",ownerCt:this,ownerLayout:this.componentLayout,id:a+"-button",ui:this.ui,disabled:this.disabled,text:this.buttonText,style:this.buttonOnly?
"":this.getButtonMarginProp()+this.buttonMargin+"px",inputName:this.getName(),listeners:{scope:this,click:this.onTriggerClick}},this.buttonConfig));this.buttonOnly&&this.inputCell.setDisplayed(!1);Ext.isIE&&this.button.getEl().repaint();this.value&&(void 0==this.value.value?(this.valueEl.dom.value="",this.inputEl.dom.value=""):(this.valueEl.dom.value=this.value.value,this.inputEl.dom.value=this.value.text))},getButtonMarginProp:function(){return"margin-left:"},onTriggerClick:function(){openWindow("\u9009\u62e9\u6846",
Lingx.urlAddParams("e?e="+this.etype+"&m="+this.method+"&cmpId="+this.id+"&value="+this.valueEl.dom.value+"&text="+encodeURI(encodeURI(this.inputEl.dom.value)),this.params))},setText:function(a){this.textEl.dom.value=a},getText:function(){return this.textEl.dom.value},setValue:function(a){this.callParent(arguments);this.valueEl&&this.valueEl.dom&&(this.valueEl.dom.value=a)},getValue:function(){return this.valueEl.dom.value},setTV:function(a){this.textEl.dom.value=a.text;this.valueEl.dom.value=a.value},
getSubmitData:function(){var a=null;this.disabled||!this.submitValue||this.isFileUpload()||(a={},a[this.getName()]=""+this.getValue());return a}});
Ext.define("Lingx.form.DialogFile",{extend:"Ext.form.field.Trigger",xtype:"file",buttonText:"\u4e0a\u4f20...",buttonMargin:3,valueUrl:"",textEl:"",valueEl:"",readOnly:!0,config:{etype:"",inputOptions:"",method:"grid"},initComponent:function(){this.callParent()},getTriggerMarkup:function(){return'<td id="'+this.id+'-browseButtonWrap"><input id="'+this.id+'-Hidden-Value" name="" type="hidden" value=""> </td>'},applyRenderSelectors:function(){this.callParent();this.valueEl=this.el.getById(this.id+"-Hidden-Value");
this.textEl=this.inputEl},onRender:function(){var a=this.id,b;this.callParent(arguments);b=this.inputEl;this.valueEl.dom.name=b.dom.name;b.on("click",this.onTriggerClick,this);b.dom.name="";this.button=new Ext.button.Button(Ext.apply({renderTo:a+"-browseButtonWrap",ownerCt:this,ownerLayout:this.componentLayout,id:a+"-button",ui:this.ui,disabled:this.disabled,text:this.buttonText,style:this.buttonOnly?"":this.getButtonMarginProp()+this.buttonMargin+"px",inputName:this.getName(),listeners:{scope:this,
click:this.onTriggerClick}},this.buttonConfig));this.buttonOnly&&this.inputCell.setDisplayed(!1);Ext.isIE&&this.button.getEl().repaint();if(this.value)if(void 0==this.value.value){if(this.valueEl.dom.value="",this.inputEl.dom.value="",this.valueUrl&&(this.valueEl.dom.value=this.valueUrl,(b=this.inputEl.dom.value=this.valueUrl)&&1<b.length&&"["==b.charAt(0))){a="";b=Ext.JSON.decode(b);for(var c=0;c<b.length;c++)a+=b[c].text+",";0<a.length&&(a=a.substring(0,a.length-1));this.inputEl.dom.value=a}}else if(this.valueEl.dom.value=
this.value.value,this.inputEl.dom.value=this.value.text,(b=this.value.value)&&1<b.length&&"["==b.charAt(0)){a="";b=Ext.JSON.decode(b);for(c=0;c<b.length;c++)a+=b[c].text+",";0<a.length&&(a=a.substring(0,a.length-1));this.inputEl.dom.value=a}},getButtonMarginProp:function(){return"margin-left:"},onTriggerClick:function(){openWindow("\u6587\u4ef6\u7ba1\u7406\u4e2d\u5fc3","lingx/template/upload/upload.jsp?cmpId="+this.id+"&type="+(this.inputOptions||"JSON"))},setText:function(a){this.textEl.dom.value=
a},getText:function(){return this.textEl.dom.value},setValue:function(a){this.callParent(arguments);this.valueEl&&this.valueEl.dom?(this.valueEl.dom.value=a,this.inputEl.dom.value=a):this.valueUrl=a},getValue:function(){return this.valueEl.dom.value},setTV:function(a){this.textEl.dom.value=a.text;this.valueEl.dom.value=a.value},getSubmitData:function(){var a=null;this.disabled||!this.submitValue||this.isFileUpload()||(a={},a[this.getName()]=""+this.getValue());return a}});
Ext.define("Lingx.form.DialogImage",{extend:"Ext.form.field.Trigger",xtype:"image",buttonText:"\u4e0a\u4f20...",buttonMargin:3,valueUrl:"",textEl:"",valueEl:"",readOnly:!0,config:{etype:"",inputOptions:"",method:"grid"},initComponent:function(){this.callParent()},getTriggerMarkup:function(){return'<td id="'+this.id+'-browseButtonWrap"><input id="'+this.id+'-Hidden-Value" name="" type="hidden" value=""> </td>'},applyRenderSelectors:function(){this.callParent();this.valueEl=this.el.getById(this.id+
"-Hidden-Value");this.textEl=this.inputEl},onRender:function(){var a=this.id,b;this.callParent(arguments);b=this.inputEl;this.valueEl.dom.name=b.dom.name;b.on("click",this.onTriggerClick,this);b.dom.name="";this.button=new Ext.button.Button(Ext.apply({renderTo:a+"-browseButtonWrap",ownerCt:this,ownerLayout:this.componentLayout,id:a+"-button",ui:this.ui,disabled:this.disabled,text:this.buttonText,style:this.buttonOnly?"":this.getButtonMarginProp()+this.buttonMargin+"px",inputName:this.getName(),listeners:{scope:this,
click:this.onTriggerClick}},this.buttonConfig));this.buttonOnly&&this.inputCell.setDisplayed(!1);Ext.isIE&&this.button.getEl().repaint();if(this.value)if(void 0==this.value.value){if(this.valueEl.dom.value="",this.inputEl.dom.value="",this.valueUrl&&(this.valueEl.dom.value=this.valueUrl,(b=this.inputEl.dom.value=this.valueUrl)&&1<b.length&&"["==b.charAt(0))){a="";b=Ext.JSON.decode(b);for(var c=0;c<b.length;c++)a+=b[c].text+",";0<a.length&&(a=a.substring(0,a.length-1));this.inputEl.dom.value=a}}else if(this.valueEl.dom.value=
this.value.value,this.inputEl.dom.value=this.value.text,(b=this.value.value)&&1<b.length&&"["==b.charAt(0)){a="";b=Ext.JSON.decode(b);for(c=0;c<b.length;c++)a+=b[c].text+",";0<a.length&&(a=a.substring(0,a.length-1));this.inputEl.dom.value=a}},getButtonMarginProp:function(){return"margin-left:"},onTriggerClick:function(){openWindow("\u6587\u4ef6\u4e0a\u4f20\u6846","lingx/template/upload/upload.jsp?cmpId="+this.id+"&type="+(this.inputOptions||"JSON"))},setText:function(a){this.textEl.dom.value=a},getText:function(){return this.textEl.dom.value},
setValue:function(a){this.callParent(arguments);this.valueEl&&this.valueEl.dom?(this.valueEl.dom.value=a,this.inputEl.dom.value=a):this.valueUrl=a},getValue:function(){return this.valueEl.dom.value},setTV:function(a){this.textEl.dom.value=a.text;this.valueEl.dom.value=a.value},getSubmitData:function(){var a=null;this.disabled||!this.submitValue||this.isFileUpload()||(a={},a[this.getName()]=""+this.getValue());return a}});
Ext.define("TextValueModel",{extend:"Ext.data.Model",fields:[{name:"text",type:"string"},{name:"value",type:"string"}]});
Ext.define("Lingx.form.Radio",{extend:"Ext.form.field.Base",alias:"widget.lgxRadio",requires:["Ext.util.Format","Ext.XTemplate"],xtype:"radio",config:{valueAjaxUrl:""},mixins:{bindable:"Ext.util.Bindable"},radioText:"<input id='{id}' type='radio' name='{code}' {checked} value='{value}'  />",labelText:"<label for='{id}'>{text}</label> ",fieldSubTpl:['<div id="{id}" role="input" ','<tpl if="fieldStyle"> style="padding-left:0px;margin-left:0px;"</tpl>',' class="{fieldCls}"></div>',{compiled:!0,disableFormats:!0}],
onRender:function(){this.value=Ext.isObject(this.value)?this.value.value:this.value;this.callParent(arguments);this.store.load({scope:this,callback:function(a,b,c){b="";for(c=0;c<a.length;c++){var e=a[c],f=e.data.value+"_radio_"+Lingx.getRandomString(8);b+=this.radioText.format({id:f,code:this.name,checked:e.data.value==this.value?"checked":"",value:e.data.value})+this.labelText.format({id:f,text:e.data.text})}this.inputEl.dom.innerHTML=b}})},setValue:function(a){this.value=a;if(this.inputEl&&this.inputEl.dom)try{Ext.query("input[value='"+
a+"']",this.inputEl.dom)[0].checked=!0}catch(b){}},getValue:function(){var a=Ext.query("input:checked",this.inputEl.dom),b="";0<a.length&&(b=a[0].value);return b},setTV:function(a){this.textEl.dom.value=a.text;this.valueEl.dom.value=a.value},getSubmitData:function(){var a=null;this.disabled||!this.submitValue||this.isFileUpload()||(a={},a[this.getName()]=""+this.getValue());return a},getStoreListeners:function(){return{load:this.onLoad}},onLoad:function(a,b,c){lgxInfo(1)},getRawValue:function(){return this.rawValue},
setRawValue:function(a){this.rawValue=a=Ext.value(a,"");this.rendered&&(this.inputEl.dom.innerHTML=this.getDisplayValue(),this.updateLayout());return a},getDisplayValue:function(){var a=this.getRawValue();return this.renderer?this.renderer.call(this.scope||this,a,this):this.htmlEncode?Ext.util.Format.htmlEncode(a):a},getSubTplData:function(){var a=this.callParent(arguments);a.value=this.getDisplayValue();return a}});
Ext.override(Ext.data.TreeStore,{load:function(a){a=a||{};a.params=a.params||{};var b=a.node||this.tree.getRootNode();b||(b=this.setRootNode({expanded:!0}));this.clearOnLoad&&b.removeAll(!1);Ext.applyIf(a,{node:b});a.params[this.nodeParam]=b?b.getId():"root";b&&b.set("loading",!0);return this.callParent([a])}});
Ext.define("Lingx.form.Checkbox",{extend:"Ext.form.field.Base",alias:"widget.lgxCheckbox",requires:["Ext.util.Format","Ext.XTemplate"],xtype:"checkbox",config:{valueAjaxUrl:""},mixins:{bindable:"Ext.util.Bindable"},radioText:"<input id='{id}' type='checkbox' name='{code}' {checked} value='{value}'  />",labelText:"<label for='{id}'>{text}</label> ",fieldSubTpl:['<div id="{id}" role="input" ','<tpl if="fieldStyle"> style="padding-left:0px;margin-left:0px;"</tpl>',' class="{fieldCls}"></div>',{compiled:!0,
disableFormats:!0}],onRender:function(){this.value=Ext.isObject(this.value)?this.value.value:this.value;this.callParent(arguments);this.store.load({scope:this,callback:function(a,b,c){b="";for(var e=","+this.value+",",f=0;f<a.length;f++){var d=a[f],g=d.data.value+"_radio_"+Lingx.getRandomString(8);c=-1<e.indexOf(","+d.data.value+",");b+=this.radioText.format({id:g,code:this.name,checked:c?"checked":"",value:d.data.value})+this.labelText.format({id:g,text:d.data.text})}this.inputEl.dom.innerHTML=b}})},
setValue:function(a){a&&a.value&&(a=a.value);this.value=a;if(this.inputEl&&this.inputEl.dom&&a)if(-1==a.indexOf(","))try{Ext.query("input[value='"+a+"']",this.inputEl.dom)[0].checked=!0}catch(c){}else{a=a.split(",");for(var b=0;b<a.length;b++)try{Ext.query("input[value='"+a[b]+"']",this.inputEl.dom)[0].checked=!0}catch(c){}}},getValue:function(){var a=Ext.query("input:checked",this.inputEl.dom),b="";if(0<a.length){for(var c=0;c<a.length;c++)b=b+a[c].value+",";b=b.substring(0,b.length-1)}return b},
setTV:function(a){this.textEl.dom.value=a.text;this.valueEl.dom.value=a.value},getSubmitData:function(){var a=null;this.disabled||!this.submitValue||this.isFileUpload()||(a={},a[this.getName()]=""+this.getValue());return a},getStoreListeners:function(){return{load:this.onLoad}},onLoad:function(a,b,c){lgxInfo(1)},getRawValue:function(){return this.rawValue},setRawValue:function(a){this.rawValue=a=Ext.value(a,"");this.rendered&&(this.inputEl.dom.innerHTML=this.getDisplayValue(),this.updateLayout());
return a},getDisplayValue:function(){var a=this.getRawValue();return this.renderer?this.renderer.call(this.scope||this,a,this):this.htmlEncode?Ext.util.Format.htmlEncode(a):a},getSubTplData:function(){var a=this.callParent(arguments);a.value=this.getDisplayValue();return a}});
Ext.define("Lingx.form.UserDialog",{extend:"Ext.form.field.Trigger",xtype:"dialoguser",buttonText:"\u9009\u62e9...",buttonMargin:3,textEl:"",valueEl:"",readOnly:!0,config:{etype:"",params:{},method:"grid"},initComponent:function(){this.callParent()},getTriggerMarkup:function(){return'<td id="'+this.id+'-browseButtonWrap"><input id="'+this.id+'-Hidden-Value" name="" type="hidden" value=""> </td>'},applyRenderSelectors:function(){this.callParent();this.valueEl=this.el.getById(this.id+"-Hidden-Value");
this.textEl=this.inputEl},onRender:function(){var a=this.id,b;this.callParent(arguments);b=this.inputEl;this.valueEl.dom.name=b.dom.name;b.on("click",this.onTriggerClick,this);b.dom.name="";this.button=new Ext.button.Button(Ext.apply({renderTo:a+"-browseButtonWrap",ownerCt:this,ownerLayout:this.componentLayout,id:a+"-button",ui:this.ui,disabled:this.disabled,text:this.buttonText,style:this.buttonOnly?"":this.getButtonMarginProp()+this.buttonMargin+"px",inputName:this.getName(),listeners:{scope:this,
click:this.onTriggerClick}},this.buttonConfig));this.buttonOnly&&this.inputCell.setDisplayed(!1);Ext.isIE&&this.button.getEl().repaint();this.value&&(void 0==this.value.value?(this.valueEl.dom.value="",this.inputEl.dom.value=""):(this.valueEl.dom.value=this.value.value,this.inputEl.dom.value=this.value.text))},getButtonMarginProp:function(){return"margin-left:"},onTriggerClick:function(){openWindow("\u7528\u6237\u9009\u62e9\u6846",Lingx.urlAddParams("lingx/common/select_users_ext.jsp?lingxInputType=1&cmpId="+
this.id+"&value="+this.valueEl.dom.value+"&text="+encodeURI(encodeURI(this.inputEl.dom.value)),this.params))},setText:function(a){this.textEl.dom.value=a},getText:function(){return this.textEl.dom.value},setValue:function(a){this.callParent(arguments);this.valueEl&&this.valueEl.dom&&(this.valueEl.dom.value=a)},getValue:function(){return this.valueEl.dom.value},setParams:function(a){this.params=a},getParams:function(){return this.params},setTV:function(a){this.textEl.dom.value=a.text;this.valueEl.dom.value=
a.value},getSubmitData:function(){var a=null;this.disabled||!this.submitValue||this.isFileUpload()||(a={},a[this.getName()]=""+this.getValue());return a}});
Ext.define("Lingx.form.UserDialog2",{extend:"Ext.form.field.Trigger",xtype:"dialoguser2",buttonText:"\u9009\u62e9...",buttonMargin:3,textEl:"",valueEl:"",readOnly:!0,config:{etype:"",params:{},method:"grid"},initComponent:function(){this.callParent()},getTriggerMarkup:function(){return'<td id="'+this.id+'-browseButtonWrap"><input id="'+this.id+'-Hidden-Value" name="" type="hidden" value=""> </td>'},applyRenderSelectors:function(){this.callParent();this.valueEl=this.el.getById(this.id+"-Hidden-Value");
this.textEl=this.inputEl},onRender:function(){var a=this.id,b;this.callParent(arguments);b=this.inputEl;this.valueEl.dom.name=b.dom.name;b.on("click",this.onTriggerClick,this);b.dom.name="";this.button=new Ext.button.Button(Ext.apply({renderTo:a+"-browseButtonWrap",ownerCt:this,ownerLayout:this.componentLayout,id:a+"-button",ui:this.ui,disabled:this.disabled,text:this.buttonText,style:this.buttonOnly?"":this.getButtonMarginProp()+this.buttonMargin+"px",inputName:this.getName(),listeners:{scope:this,
click:this.onTriggerClick}},this.buttonConfig));this.buttonOnly&&this.inputCell.setDisplayed(!1);Ext.isIE&&this.button.getEl().repaint();this.value&&(void 0==this.value.value?(this.valueEl.dom.value="",this.inputEl.dom.value=""):(this.valueEl.dom.value=this.value.value,this.inputEl.dom.value=this.value.text))},getButtonMarginProp:function(){return"margin-left:"},onTriggerClick:function(){openWindow("\u7528\u6237\u9009\u62e9\u6846",Lingx.urlAddParams("lingx/common/select_users_ext.jsp?lingxInputType=n&cmpId="+
this.id+"&value="+this.valueEl.dom.value+"&text="+encodeURI(encodeURI(this.inputEl.dom.value)),this.params))},setText:function(a){this.textEl.dom.value=a},getText:function(){return this.textEl.dom.value},setValue:function(a){this.callParent(arguments);this.valueEl&&this.valueEl.dom&&(this.valueEl.dom.value=a)},getValue:function(){return this.valueEl.dom.value},setParams:function(a){this.params=a},getParams:function(){return this.params},setTV:function(a){this.textEl.dom.value=a.text;this.valueEl.dom.value=
a.value},getSubmitData:function(){var a=null;this.disabled||!this.submitValue||this.isFileUpload()||(a={},a[this.getName()]=""+this.getValue());return a}});
Ext.define("Lingx.form.OrgDialog",{extend:"Ext.form.field.Trigger",xtype:"dialogorg",buttonText:"\u9009\u62e9...",buttonMargin:3,textEl:"",valueEl:"",readOnly:!0,config:{etype:"",params:{},method:"grid"},initComponent:function(){this.callParent()},getTriggerMarkup:function(){return'<td id="'+this.id+'-browseButtonWrap"><input id="'+this.id+'-Hidden-Value" name="" type="hidden" value=""> </td>'},applyRenderSelectors:function(){this.callParent();this.valueEl=this.el.getById(this.id+"-Hidden-Value");
this.textEl=this.inputEl},onRender:function(){var a=this.id,b;this.callParent(arguments);b=this.inputEl;this.valueEl.dom.name=b.dom.name;b.on("click",this.onTriggerClick,this);b.dom.name="";this.button=new Ext.button.Button(Ext.apply({renderTo:a+"-browseButtonWrap",ownerCt:this,ownerLayout:this.componentLayout,id:a+"-button",ui:this.ui,disabled:this.disabled,text:this.buttonText,style:this.buttonOnly?"":this.getButtonMarginProp()+this.buttonMargin+"px",inputName:this.getName(),listeners:{scope:this,
click:this.onTriggerClick}},this.buttonConfig));this.buttonOnly&&this.inputCell.setDisplayed(!1);Ext.isIE&&this.button.getEl().repaint();this.value&&(void 0==this.value.value?(this.valueEl.dom.value="",this.inputEl.dom.value=""):(this.valueEl.dom.value=this.value.value,this.inputEl.dom.value=this.value.text))},getButtonMarginProp:function(){return"margin-left:"},onTriggerClick:function(){openWindow("\u7ec4\u7ec7\u9009\u62e9\u6846",Lingx.urlAddParams("lingx/common/select_orgs_ext.jsp?lingxInputType=1&cmpId="+
this.id+"&value="+this.valueEl.dom.value+"&text="+encodeURI(encodeURI(this.inputEl.dom.value)),this.params))},setText:function(a){this.textEl.dom.value=a},getText:function(){return this.textEl.dom.value},setValue:function(a){this.callParent(arguments);this.valueEl&&this.valueEl.dom&&(this.valueEl.dom.value=a)},getValue:function(){return this.valueEl.dom.value},setParams:function(a){this.params=a},getParams:function(){return this.params},setTV:function(a){this.textEl.dom.value=a.text;this.valueEl.dom.value=
a.value},getSubmitData:function(){var a=null;this.disabled||!this.submitValue||this.isFileUpload()||(a={},a[this.getName()]=""+this.getValue());return a}});
Ext.define("Lingx.form.OrgDialog2",{extend:"Ext.form.field.Trigger",xtype:"dialogorg2",buttonText:"\u9009\u62e9...",buttonMargin:3,textEl:"",valueEl:"",readOnly:!0,config:{etype:"",params:{},method:"grid"},initComponent:function(){this.callParent()},getTriggerMarkup:function(){return'<td id="'+this.id+'-browseButtonWrap"><input id="'+this.id+'-Hidden-Value" name="" type="hidden" value=""> </td>'},applyRenderSelectors:function(){this.callParent();this.valueEl=this.el.getById(this.id+"-Hidden-Value");
this.textEl=this.inputEl},onRender:function(){var a=this.id,b;this.callParent(arguments);b=this.inputEl;this.valueEl.dom.name=b.dom.name;b.on("click",this.onTriggerClick,this);b.dom.name="";this.button=new Ext.button.Button(Ext.apply({renderTo:a+"-browseButtonWrap",ownerCt:this,ownerLayout:this.componentLayout,id:a+"-button",ui:this.ui,disabled:this.disabled,text:this.buttonText,style:this.buttonOnly?"":this.getButtonMarginProp()+this.buttonMargin+"px",inputName:this.getName(),listeners:{scope:this,
click:this.onTriggerClick}},this.buttonConfig));this.buttonOnly&&this.inputCell.setDisplayed(!1);Ext.isIE&&this.button.getEl().repaint();this.value&&(void 0==this.value.value?(this.valueEl.dom.value="",this.inputEl.dom.value=""):(this.valueEl.dom.value=this.value.value,this.inputEl.dom.value=this.value.text))},getButtonMarginProp:function(){return"margin-left:"},onTriggerClick:function(){openWindow("\u7ec4\u7ec7\u9009\u62e9\u6846",Lingx.urlAddParams("lingx/common/select_orgs_ext.jsp?lingxInputType=n&cmpId="+
this.id+"&value="+this.valueEl.dom.value+"&text="+encodeURI(encodeURI(this.inputEl.dom.value)),this.params))},setText:function(a){this.textEl.dom.value=a},getText:function(){return this.textEl.dom.value},setValue:function(a){this.callParent(arguments);this.valueEl&&this.valueEl.dom&&(this.valueEl.dom.value=a)},getValue:function(){return this.valueEl.dom.value},setParams:function(a){this.params=a},getParams:function(){return this.params},setTV:function(a){this.textEl.dom.value=a.text;this.valueEl.dom.value=
a.value},getSubmitData:function(){var a=null;this.disabled||!this.submitValue||this.isFileUpload()||(a={},a[this.getName()]=""+this.getValue());return a}});Ext.override(Ext.data.TreeStore,{load:function(a){a=a||{};a.params=a.params||{};var b=a.node||this.tree.getRootNode();b||(b=this.setRootNode({expanded:!0}));this.clearOnLoad&&b.removeAll(!1);Ext.applyIf(a,{node:b});a.params[this.nodeParam]=b?b.getId():"root";b&&b.set("loading",!0);return this.callParent([a])}});
Date.prototype.format=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in b)(new RegExp("("+c+")")).test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a};